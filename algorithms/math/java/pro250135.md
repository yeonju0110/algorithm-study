# 📝 문제 풀이 보고서 
> [프로그래머스 - [PCCP 기출문제] 3번 / 아날로그 시계](https://school.programmers.co.kr/learn/courses/30/lessons/250135?language=java)

## ⏱️ 문제 풀이 시간
- 총 소요 시간: **60분**

---

## 📊 문제 난이도
- [ ] 🟢 쉬움
- [ ] 🟡 보통
- [x] 🔴 어려움

---

## ⚙️ 사용한 알고리즘
- `Math`

---

## 💡 풀이 과정 (생각의 흐름)
1. 1초마다 몇도씩 이동하는지 계산해보자
    - 초침: 360.0 / 60 = 6°
    - 분침: 360.0 / (60*60) = 0.1°
    - 시침: 360.0 / (60*60*12) = 1/120° = 0.0083333°
    - 그런데 실제로 교차하는 구간이 소수점 단위임. 따라서 정수초만 검사하면 안됨.. 이걸론 못구할 것 같음.
2. 그러면 어떡하지?!
    - 초침이랑 분침이 언제 한번씩 만날까??
    - 초침이랑 분침: 6t = 0.1t + 분침 원래 위치(6m)
    - 초침: 6s
    - 분침: 6m + 0.1s
      - 1분 동안 6°, 1초 동안 0.1°
    - 초침이랑 분침이 만나려면?
      - 6t = 0.1t + 6m_0 -> t = 6m_0 / 5.9
      - 잘 모르겠다~..
3. 다른 사람 풀이 참고
    - 시침과 분침의 겹침:
      - 12시간 동안 11번 겹침 (0시, 1시 5분경, 2시 10분경, ... , 10시 55분경)
      - 1시간(3600초) 동안 11/12번 = 약 59/60번 
        - 따라서 seconds * 59 / 3600 
      - 분침과 초침의 겹침:
        - 1시간 동안 59번 겹침
        - 하지만 12시간을 기준으로 계산해야 함
        - 12시간(43200초) 동안 12 × 59 - 1 = 719번 (12:00:00에서 중복 제거)
        - 따라서 seconds * 719 / 43200

## 🔀 다른 풀이 방법
- 누적합으로 O(1)에 해결한거 보고 감탄

```java
import java.util.*;

class Solution {
    public int solution(int h1, int m1, int s1, int h2, int m2, int s2) {
        int answer = -1;

        // 시간을 초 단위로 변환
        int startSec = parseToSec(h1, m1, s1);
        int endSec = parseToSec(h2, m2, s2);

        // 구간 [시작시간, 종료시간]에서 알람 횟수 계산
        // 누적합 방식: 종료시간까지의 알람 횟수 - 시작시간까지의 알람 횟수
        answer = countAlrams(endSec) - countAlrams(startSec);

        // 시작시간에 알람이 울린다면 1을 추가 (구간의 시작점 포함)
        answer += alramNow(startSec) ? 1 : 0;

        return answer;
    }

    /**
     * 시, 분, 초를 총 초 단위로 변환
     */
    private int parseToSec(int hour, int minute, int second) {
        return hour * 60 * 60 + minute * 60 + second;
    }

    /**
     * 0시 0분 0초부터 주어진 시간까지 알람이 울린 총 횟수를 계산
     */
    private int countAlrams(int seconds) {
        // 시침과 분침이 겹치는 횟수
        // 12시간 동안 11번 겹침 → 1시간(3600초) 동안 11/12 = 59/60번
        int minuteAlrams = seconds * 59 / 3600;

        // 분침과 초침이 겹치는 횟수  
        // 12시간(43200초) 동안 59*12-1 = 719번 겹침
        // (12:00:00에서 중복 제거로 -1)
        int hourAlrams = seconds * 719 / 43200;

        // 12:00:00에서 시침-분침, 분침-초침이 동시에 겹치므로 중복 제거
        // 12시간 이상이면 12:00:00이 2번 나타나므로 2개 제거, 미만이면 1개 제거
        int duplicatedAlrams = 43200 <= seconds ? 2 : 1;

        return minuteAlrams + hourAlrams - duplicatedAlrams;
    }

    /**
     * 현재 시점에서 알람이 울리는지 확인
     */
    private boolean alramNow(int seconds) {
        // 시침과 분침이 겹치는 순간이거나, 분침과 초침이 겹치는 순간인지 확인
        return seconds * 59 / 3600 == 0 || seconds * 719 % 43200 == 0;
    }
}
```
