# ğŸ“ ë¬¸ì œ í’€ì´ ë³´ê³ ì„œ 
> [ì£¼ì‚¬ìœ„ ê³ ë¥´ê¸°](https://school.programmers.co.kr/learn/courses/30/lessons/258709)

## â±ï¸ ë¬¸ì œ í’€ì´ ì‹œê°„
- ì´ ì†Œìš” ì‹œê°„: **120ë¶„**

---

## ğŸ“Š ë¬¸ì œ ë‚œì´ë„
- [ ] ğŸŸ¢ ì‰¬ì›€
- [x] ğŸŸ¡ ë³´í†µ
- [ ] ğŸ”´ ì–´ë ¤ì›€

---

## âš™ï¸ ì‚¬ìš©í•œ ì•Œê³ ë¦¬ì¦˜
- **ì¡°í•©(Combinations)**: nê°œ ì£¼ì‚¬ìœ„ ì¤‘ n/2ê°œ ì„ íƒ
- **ì™„ì „íƒìƒ‰(Brute Force)**: ëª¨ë“  ì£¼ì‚¬ìœ„ ì¡°í•© ì‹œë„
- **ì´ì§„íƒìƒ‰(Binary Search)**: ìŠ¹íŒ¨ ê³„ì‚° ìµœì í™”
- **ì‹œë®¬ë ˆì´ì…˜(Simulation)**: ë°ì¹´ë¥´íŠ¸ ê³±ìœ¼ë¡œ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ ìƒì„±

---

## ğŸ’¡ í’€ì´ ê³¼ì • (ìƒê°ì˜ íë¦„)
### 1ë‹¨ê³„: ìƒê°

![img](/images/pro258709.jpeg)

1. ì£¼ì‚¬ìœ„ ë‚˜ëˆ„ëŠ” ê²½ìš°ì˜ ìˆ˜
    - ì¡°í•©ìœ¼ë¡œ í•œë‹¤ë©´?
    - combinations(range(n), n//2)
    - nì€ ìµœëŒ€ 10ì„. combinations(10, 5) = 252 => ok
2. Aì˜ ì ìˆ˜ ë¶„í¬
    - ì£¼ì‚¬ìœ„ì— ì“°ì¸ ìˆ˜ì˜ ìµœëŒ€ ê°¯ìˆ˜: 6ê°œ
    - ìµœëŒ€ ì£¼ì‚¬ìœ„ ìˆ˜: 5ê°œ
    - ì™„íƒìœ¼ë¡œ í•´ë„ 6^5 = 7776ë²ˆ => ok
    - Bë„ ë™ì¼í•˜ê²Œ ì™„íƒìœ¼ë¡œ êµ¬í•˜ê¸°
3. ìŠ¹ë¥  êµ¬í•˜ê¸°
    - ì²«ë²ˆì§¸: ì™„íƒ
    ```python
    for a in a_sums:
        for b in b_sums:
            if a > b: win += 1
    ```
        - ì‹œê°„ë³µì¡ë„: O(6^10) = 6ì²œë§Œ â†’ ì „ì²´ ì‹œê°„ ë³µì¡ë„ 252 Ã— 6^10 = ì•½ 150ì–µ
    - ë‘ë²ˆì§¸: ì´ì§„íƒìƒ‰
    ```python
    for a in a_sums:
        win += bisect.bisect_left(b_sums, a)
    ```
        - ì‹œê°„ë³µì¡ë„: O(6^5 Ã— log(6^5)) = ì•½ 10ë§Œ â†’ ì „ì²´ ì‹œê°„ ë³µì¡ë„ 252 Ã— 6^5 Ã— log(6^5) = ì•½ 2ì²œ5ë°±ë§Œ -> í›¨ì”¬ íš¨ìœ¨ì ! â­

### 2ë‹¨ê³„: êµ¬í˜„

```python
from itertools import combinations, product
import bisect

def solution(dice):
    n = len(dice)
    max_win_rate = 0
    best_combination = []
    
    # A ì¸ë±ìŠ¤
    for a_indices in combinations(range(n), n//2): # ìµœëŒ€ C(10, 5)
        # B ì¸ë±ìŠ¤
        b_indices = [i for i in range(n) if i not in a_indices]
        
        # Aì˜ ì ìˆ˜ ë¶„í¬
        a_dice = [dice[i] for i in a_indices]
        a_sums = sorted([sum(rolls) for rolls in product(*a_dice)]) # ì´ì§„íƒìƒ‰ í•´ì•¼í•˜ë¯€ë¡œ ì •ë ¬
        
        # Bì˜ ì ìˆ˜ ë¶„í¬
        b_dice = [dice[i] for i in b_indices]
        b_sums = sorted([sum(rolls) for rolls in product(*b_dice)])
        
        # ìŠ¹ë¥  ê³„ì‚°
        a_wins = 0
        for a in a_sums:
            a_wins += bisect.bisect_left(b_sums, a)

        win_rate = a_wins / (len(a_sums) * len(b_sums))
        
        if win_rate > max_win_rate:
            max_win_rate = win_rate
            best_combination = [i + 1 for i in a_indices]
        
    return best_combination
```

### ì´ ì‹œê°„ë³µì¡ë„ ê³„ì‚°
```
C(n, n/2) Ã— [6^(n/2) + 6^(n/2) Ã— log(6^(n/2))]
= 252 Ã— [7,776 + 7,776 Ã— 13]
â‰ˆ 252 Ã— 100,000
â‰ˆ 2,500ë§Œ ì—°ì‚°
```

## ğŸ’ğŸ» íšŒê³ 
- 1-based ì¸ë±ìŠ¤ ì‹¤ìˆ˜
    - ì²˜ìŒì— 0-basedë¡œ ë°˜í™˜í•˜ëŠ” ì‹¤ìˆ˜í•¨
- ì´ì§„íƒìƒ‰ì˜ í™œìš©
    - ì •ë ¬ëœ ë°ì´í„°ì—ì„œ "~ë³´ë‹¤ ì‘ì€ ê°œìˆ˜" ì°¾ê¸°
    - bisect ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©í•˜ê¸°
